{"ast":null,"code":"// Yahoo Finance API를 사용한 FX 데이터 서비스\n\n// 주요 환율 심볼 매핑\nconst FX_SYMBOLS = {\n  'USD/KRW': 'KRW=X',\n  // 달러/원\n  'EUR/KRW': 'EURKRW=X',\n  // 유로/원\n  'JPY/KRW': 'JPYKRW=X',\n  // 엔/원\n  'CNY/KRW': 'CNYKRW=X',\n  // 위안/원\n  'GBP/KRW': 'GBPKRW=X',\n  // 파운드/원\n  'EUR/USD': 'EURUSD=X',\n  // 유로/달러\n  'USD/JPY': 'USDJPY=X',\n  // 달러/엔\n  'GBP/USD': 'GBPUSD=X',\n  // 파운드/달러\n  'USD/CNY': 'USDCNY=X',\n  // 달러/위안\n  'EUR/JPY': 'EURJPY=X',\n  // 유로/엔\n  'AUD/USD': 'AUDUSD=X',\n  // 호주달러/달러\n  'USD/CAD': 'USDCAD=X',\n  // 달러/캐나다달러\n  'USD/CHF': 'USDCHF=X',\n  // 달러/스위스프랑\n  'NZD/USD': 'NZDUSD=X',\n  // 뉴질랜드달러/달러\n  'USD/SGD': 'USDSGD=X' // 달러/싱가포르달러\n};\n\n// 현실적인 더미 FX 데이터 (2024년 12월 기준)\nconst DUMMY_FX_DATA = [{\n  title: 'USD/KRW',\n  value: 1345.67,\n  change: 0.15,\n  isPositive: true\n}, {\n  title: 'EUR/KRW',\n  value: 1459.23,\n  change: -0.21,\n  isPositive: false\n}, {\n  title: 'JPY/KRW',\n  value: 9.12,\n  change: 0.45,\n  isPositive: true\n}, {\n  title: 'CNY/KRW',\n  value: 186.34,\n  change: -0.12,\n  isPositive: false\n}, {\n  title: 'GBP/KRW',\n  value: 1702.45,\n  change: 0.32,\n  isPositive: true\n}, {\n  title: 'EUR/USD',\n  value: 1.0856,\n  change: -0.21,\n  isPositive: false\n}, {\n  title: 'USD/JPY',\n  value: 148.45,\n  change: 0.45,\n  isPositive: true\n}, {\n  title: 'GBP/USD',\n  value: 1.2654,\n  change: 0.32,\n  isPositive: true\n}, {\n  title: 'USD/CNY',\n  value: 7.2345,\n  change: -0.12,\n  isPositive: false\n}, {\n  title: 'EUR/JPY',\n  value: 161.23,\n  change: 0.24,\n  isPositive: true\n}, {\n  title: 'AUD/USD',\n  value: 0.6756,\n  change: 0.18,\n  isPositive: true\n}, {\n  title: 'USD/CAD',\n  value: 1.3456,\n  change: -0.08,\n  isPositive: false\n}, {\n  title: 'USD/CHF',\n  value: 0.8923,\n  change: 0.12,\n  isPositive: true\n}, {\n  title: 'NZD/USD',\n  value: 0.6234,\n  change: 0.25,\n  isPositive: true\n}, {\n  title: 'USD/SGD',\n  value: 1.3456,\n  change: -0.05,\n  isPositive: false\n}];\n\n// CORS 프록시 URL들 (주식 API와 동일한 방식)\nconst CORS_PROXIES = ['https://cors-anywhere.herokuapp.com/', 'https://api.allorigins.win/raw?url=', 'https://corsproxy.io/?', '' // 직접 호출도 시도\n];\n\n// 프록시를 사용한 API 호출 (주식 API와 동일한 방식)\nconst fetchWithProxy = async (url, proxyIndex = 0) => {\n  if (proxyIndex >= CORS_PROXIES.length) {\n    throw new Error('All proxy attempts failed');\n  }\n  try {\n    const proxyUrl = CORS_PROXIES[proxyIndex] + url;\n    console.log(`🔗 Trying proxy ${proxyIndex + 1}/${CORS_PROXIES.length}: ${proxyUrl.substring(0, 80)}...`);\n    const response = await fetch(proxyUrl, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',\n        'Accept-Language': 'en-US,en;q=0.9',\n        'Accept-Encoding': 'gzip, deflate, br',\n        'Connection': 'keep-alive',\n        'Upgrade-Insecure-Requests': '1'\n      }\n    });\n    console.log(`📊 Proxy ${proxyIndex + 1} response status: ${response.status}`);\n    console.log(`📊 Proxy ${proxyIndex + 1} response headers:`, Object.fromEntries(response.headers.entries()));\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log(`📊 Proxy ${proxyIndex + 1} response data type:`, typeof data);\n    console.log(`📊 Proxy ${proxyIndex + 1} response data keys:`, Object.keys(data));\n    if (!data || !data.chart || !data.chart.result || data.chart.result.length === 0) {\n      console.log(`❌ Proxy ${proxyIndex + 1} returned invalid data structure:`, data);\n      throw new Error('No valid data received');\n    }\n    console.log(`✅ Proxy ${proxyIndex + 1} successful!`);\n    return data;\n  } catch (error) {\n    console.log(`❌ Proxy ${proxyIndex + 1} failed: ${error.message}`);\n    if (error.message.includes('JSON')) {\n      console.log(`❌ JSON parsing error - response might be HTML error page`);\n    }\n    return fetchWithProxy(url, proxyIndex + 1);\n  }\n};\n\n// Yahoo Finance API에서 환율 데이터 가져오기 (주식 API와 동일한 방식)\nconst fetchFXDataFromYahoo = async symbol => {\n  try {\n    var _data$chart, _data$chart2, _data$chart2$result, _data$chart3, _data$chart3$result, _data$chart3$result$;\n    console.log(`🔗 Fetching ${symbol} from Yahoo Finance...`);\n    const url = `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?interval=1d&range=1d`;\n    console.log(`🔗 Full URL: ${url}`);\n    const data = await fetchWithProxy(url);\n    console.log(`📊 Data received for ${symbol}:`, {\n      hasChart: !!data.chart,\n      hasResult: !!((_data$chart = data.chart) !== null && _data$chart !== void 0 && _data$chart.result),\n      resultLength: (_data$chart2 = data.chart) === null || _data$chart2 === void 0 ? void 0 : (_data$chart2$result = _data$chart2.result) === null || _data$chart2$result === void 0 ? void 0 : _data$chart2$result.length,\n      hasMeta: !!((_data$chart3 = data.chart) !== null && _data$chart3 !== void 0 && (_data$chart3$result = _data$chart3.result) !== null && _data$chart3$result !== void 0 && (_data$chart3$result$ = _data$chart3$result[0]) !== null && _data$chart3$result$ !== void 0 && _data$chart3$result$.meta)\n    });\n    const result = data.chart.result[0];\n    const meta = result.meta;\n    console.log(`📊 Meta data for ${symbol}:`, {\n      regularMarketPrice: meta.regularMarketPrice,\n      previousClose: meta.previousClose,\n      currency: meta.currency,\n      symbol: meta.symbol\n    });\n    const regularMarketPrice = meta.regularMarketPrice;\n    const previousClose = meta.previousClose;\n    if (regularMarketPrice && previousClose) {\n      const change = regularMarketPrice - previousClose;\n      const changePercent = change / previousClose * 100;\n      console.log(`✅ ${symbol}: ${regularMarketPrice} (${changePercent > 0 ? '+' : ''}${changePercent.toFixed(2)}%)`);\n      return {\n        price: regularMarketPrice,\n        change: change,\n        changePercent: changePercent,\n        previousClose: previousClose,\n        isPositive: change >= 0\n      };\n    } else {\n      console.log(`❌ Missing price data for ${symbol}:`, {\n        regularMarketPrice: regularMarketPrice,\n        previousClose: previousClose\n      });\n    }\n    throw new Error('No valid price data');\n  } catch (error) {\n    console.error(`❌ Error fetching ${symbol}:`, error);\n    return null;\n  }\n};\n\n// 모든 환율 데이터 가져오기 (주식 API와 동일한 방식)\nexport const fetchAllFXData = async () => {\n  try {\n    console.log('🔄 Fetching FX data from Yahoo Finance...');\n    const promises = [];\n\n    // 모든 환율 심볼에 대해 병렬로 데이터 가져오기\n    for (const [name, symbol] of Object.entries(FX_SYMBOLS)) {\n      promises.push(fetchFXDataFromYahoo(symbol).then(data => {\n        if (data) {\n          console.log(`✅ ${name}: ${data.price} (${data.isPositive ? '+' : ''}${data.changePercent.toFixed(2)}%)`);\n          return {\n            title: name,\n            value: data.price,\n            change: data.changePercent,\n            isPositive: data.isPositive,\n            symbol: symbol,\n            isRealData: true,\n            dataSource: 'Yahoo Finance'\n          };\n        } else {\n          console.log(`❌ Failed to fetch ${name}`);\n          return null;\n        }\n      }).catch(error => {\n        console.log(`❌ Error fetching ${name}:`, error.message);\n        return null;\n      }));\n    }\n\n    // 모든 요청 완료 대기\n    const results = await Promise.all(promises);\n\n    // 성공한 데이터만 필터링\n    const successfulData = results.filter(data => data !== null);\n    console.log(`✅ Successfully fetched ${successfulData.length}/${Object.keys(FX_SYMBOLS).length} FX rates`);\n\n    // 실제 데이터가 있으면 반환, 없으면 더미 데이터 사용\n    if (successfulData.length > 0) {\n      return successfulData;\n    } else {\n      console.log('❌ No real data available, using dummy data...');\n      return DUMMY_FX_DATA.map(item => ({\n        ...item,\n        isRealData: false,\n        dataSource: 'Dummy Data',\n        symbol: FX_SYMBOLS[item.title] || ''\n      }));\n    }\n  } catch (error) {\n    console.error('❌ Error fetching FX data:', error);\n    console.log('📊 Falling back to dummy data...');\n\n    // 에러 발생 시 더미 데이터 반환\n    return DUMMY_FX_DATA.map(item => ({\n      ...item,\n      isRealData: false,\n      dataSource: 'Dummy Data (Error)',\n      symbol: FX_SYMBOLS[item.title] || ''\n    }));\n  }\n};\n\n// 특정 환율 데이터 가져오기\nexport const fetchFXRate = async symbol => {\n  const yahooSymbol = FX_SYMBOLS[symbol];\n  if (!yahooSymbol) {\n    throw new Error(`Unknown symbol: ${symbol}`);\n  }\n  return await fetchFXDataFromYahoo(yahooSymbol);\n};\n\n// FX vs 주식 API 간단 테스트\nexport const quickFXvsStockTest = async () => {\n  try {\n    console.log('🔍 Quick FX vs Stock API Test...');\n\n    // FX 심볼 테스트\n    const fxSymbol = 'KRW=X';\n    const fxUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${fxSymbol}?interval=1d&range=1d`;\n\n    // 주식 심볼 테스트\n    const stockSymbol = '^GSPC';\n    const stockUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${stockSymbol}?interval=1d&range=1d`;\n    console.log(`🔗 FX URL: ${fxUrl}`);\n    console.log(`🔗 Stock URL: ${stockUrl}`);\n\n    // FX API 테스트\n    try {\n      console.log('🧪 Testing FX API (KRW=X)...');\n      const fxResponse = await fetch(fxUrl);\n      console.log(`📊 FX response status: ${fxResponse.status}`);\n      if (fxResponse.ok) {\n        var _fxData$chart, _fxData$chart2, _fxData$chart2$result, _fxData$chart3, _fxData$chart3$result, _fxData$chart3$result2, _fxData$chart4, _fxData$chart4$result, _fxData$chart4$result2, _fxData$chart5, _fxData$chart5$result, _fxData$chart5$result2;\n        const fxData = await fxResponse.json();\n        console.log(`📊 FX data structure:`, {\n          hasChart: !!fxData.chart,\n          hasResult: !!((_fxData$chart = fxData.chart) !== null && _fxData$chart !== void 0 && _fxData$chart.result),\n          resultLength: (_fxData$chart2 = fxData.chart) === null || _fxData$chart2 === void 0 ? void 0 : (_fxData$chart2$result = _fxData$chart2.result) === null || _fxData$chart2$result === void 0 ? void 0 : _fxData$chart2$result.length,\n          hasMeta: !!((_fxData$chart3 = fxData.chart) !== null && _fxData$chart3 !== void 0 && (_fxData$chart3$result = _fxData$chart3.result) !== null && _fxData$chart3$result !== void 0 && (_fxData$chart3$result2 = _fxData$chart3$result[0]) !== null && _fxData$chart3$result2 !== void 0 && _fxData$chart3$result2.meta),\n          metaKeys: (_fxData$chart4 = fxData.chart) !== null && _fxData$chart4 !== void 0 && (_fxData$chart4$result = _fxData$chart4.result) !== null && _fxData$chart4$result !== void 0 && (_fxData$chart4$result2 = _fxData$chart4$result[0]) !== null && _fxData$chart4$result2 !== void 0 && _fxData$chart4$result2.meta ? Object.keys(fxData.chart.result[0].meta) : []\n        });\n        if ((_fxData$chart5 = fxData.chart) !== null && _fxData$chart5 !== void 0 && (_fxData$chart5$result = _fxData$chart5.result) !== null && _fxData$chart5$result !== void 0 && (_fxData$chart5$result2 = _fxData$chart5$result[0]) !== null && _fxData$chart5$result2 !== void 0 && _fxData$chart5$result2.meta) {\n          const fxMeta = fxData.chart.result[0].meta;\n          console.log(`✅ FX API works! USD/KRW: ${fxMeta.regularMarketPrice}`);\n        } else {\n          console.log(`❌ FX API returned data but no valid meta`);\n        }\n      } else {\n        console.log(`❌ FX API failed with status: ${fxResponse.status}`);\n      }\n    } catch (fxError) {\n      console.log(`❌ FX API error:`, fxError.message);\n    }\n\n    // 주식 API 테스트\n    try {\n      console.log('🧪 Testing Stock API (^GSPC)...');\n      const stockResponse = await fetch(stockUrl);\n      console.log(`📊 Stock response status: ${stockResponse.status}`);\n      if (stockResponse.ok) {\n        var _stockData$chart, _stockData$chart2, _stockData$chart2$res, _stockData$chart3, _stockData$chart3$res, _stockData$chart3$res2, _stockData$chart4, _stockData$chart4$res, _stockData$chart4$res2, _stockData$chart5, _stockData$chart5$res, _stockData$chart5$res2;\n        const stockData = await stockResponse.json();\n        console.log(`📊 Stock data structure:`, {\n          hasChart: !!stockData.chart,\n          hasResult: !!((_stockData$chart = stockData.chart) !== null && _stockData$chart !== void 0 && _stockData$chart.result),\n          resultLength: (_stockData$chart2 = stockData.chart) === null || _stockData$chart2 === void 0 ? void 0 : (_stockData$chart2$res = _stockData$chart2.result) === null || _stockData$chart2$res === void 0 ? void 0 : _stockData$chart2$res.length,\n          hasMeta: !!((_stockData$chart3 = stockData.chart) !== null && _stockData$chart3 !== void 0 && (_stockData$chart3$res = _stockData$chart3.result) !== null && _stockData$chart3$res !== void 0 && (_stockData$chart3$res2 = _stockData$chart3$res[0]) !== null && _stockData$chart3$res2 !== void 0 && _stockData$chart3$res2.meta),\n          metaKeys: (_stockData$chart4 = stockData.chart) !== null && _stockData$chart4 !== void 0 && (_stockData$chart4$res = _stockData$chart4.result) !== null && _stockData$chart4$res !== void 0 && (_stockData$chart4$res2 = _stockData$chart4$res[0]) !== null && _stockData$chart4$res2 !== void 0 && _stockData$chart4$res2.meta ? Object.keys(stockData.chart.result[0].meta) : []\n        });\n        if ((_stockData$chart5 = stockData.chart) !== null && _stockData$chart5 !== void 0 && (_stockData$chart5$res = _stockData$chart5.result) !== null && _stockData$chart5$res !== void 0 && (_stockData$chart5$res2 = _stockData$chart5$res[0]) !== null && _stockData$chart5$res2 !== void 0 && _stockData$chart5$res2.meta) {\n          const stockMeta = stockData.chart.result[0].meta;\n          console.log(`✅ Stock API works! S&P 500: ${stockMeta.regularMarketPrice}`);\n        } else {\n          console.log(`❌ Stock API returned data but no valid meta`);\n        }\n      } else {\n        console.log(`❌ Stock API failed with status: ${stockResponse.status}`);\n      }\n    } catch (stockError) {\n      console.log(`❌ Stock API error:`, stockError.message);\n    }\n  } catch (error) {\n    console.error(`❌ Quick test failed:`, error);\n  }\n};\n\n// Yahoo Finance URL 매핑\nexport const YAHOO_FINANCE_URLS = {\n  'USD/KRW': 'https://finance.yahoo.com/quote/KRW=X',\n  'EUR/KRW': 'https://finance.yahoo.com/quote/EURKRW=X',\n  'JPY/KRW': 'https://finance.yahoo.com/quote/JPYKRW=X',\n  'CNY/KRW': 'https://finance.yahoo.com/quote/CNYKRW=X',\n  'GBP/KRW': 'https://finance.yahoo.com/quote/GBPKRW=X',\n  'EUR/USD': 'https://finance.yahoo.com/quote/EURUSD=X',\n  'USD/JPY': 'https://finance.yahoo.com/quote/USDJPY=X',\n  'GBP/USD': 'https://finance.yahoo.com/quote/GBPUSD=X',\n  'USD/CNY': 'https://finance.yahoo.com/quote/USDCNY=X',\n  'EUR/JPY': 'https://finance.yahoo.com/quote/EURJPY=X',\n  'AUD/USD': 'https://finance.yahoo.com/quote/AUDUSD=X',\n  'USD/CAD': 'https://finance.yahoo.com/quote/USDCAD=X',\n  'USD/CHF': 'https://finance.yahoo.com/quote/USDCHF=X',\n  'NZD/USD': 'https://finance.yahoo.com/quote/NZDUSD=X',\n  'USD/SGD': 'https://finance.yahoo.com/quote/USDSGD=X'\n};\n\n// FX vs 주식 API 비교 테스트\nexport const compareFXvsStockAPI = async () => {\n  try {\n    console.log('🔍 Comparing FX vs Stock API...');\n\n    // FX 심볼 테스트\n    const fxSymbol = 'KRW=X';\n    const fxUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${fxSymbol}?interval=1d&range=1d`;\n\n    // 주식 심볼 테스트\n    const stockSymbol = '^GSPC';\n    const stockUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${stockSymbol}?interval=1d&range=1d`;\n    console.log(`🔗 FX URL: ${fxUrl}`);\n    console.log(`🔗 Stock URL: ${stockUrl}`);\n\n    // FX API 테스트\n    try {\n      console.log('🧪 Testing FX API...');\n      const fxResponse = await fetch(fxUrl, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n        }\n      });\n      console.log(`📊 FX response status: ${fxResponse.status}`);\n      console.log(`📊 FX response headers:`, Object.fromEntries(fxResponse.headers.entries()));\n      if (fxResponse.ok) {\n        const fxData = await fxResponse.json();\n        console.log(`📊 FX data keys:`, Object.keys(fxData));\n        if (fxData && fxData.chart && fxData.chart.result && fxData.chart.result[0]) {\n          const fxMeta = fxData.chart.result[0].meta;\n          console.log(`📊 FX meta data:`, fxMeta);\n          console.log(`✅ FX API works! USD/KRW: ${fxMeta.regularMarketPrice}`);\n        }\n      }\n    } catch (fxError) {\n      console.log(`❌ FX API failed:`, fxError.message);\n    }\n\n    // 주식 API 테스트\n    try {\n      console.log('🧪 Testing Stock API...');\n      const stockResponse = await fetch(stockUrl, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n        }\n      });\n      console.log(`📊 Stock response status: ${stockResponse.status}`);\n      console.log(`📊 Stock response headers:`, Object.fromEntries(stockResponse.headers.entries()));\n      if (stockResponse.ok) {\n        const stockData = await stockResponse.json();\n        console.log(`📊 Stock data keys:`, Object.keys(stockData));\n        if (stockData && stockData.chart && stockData.chart.result && stockData.chart.result[0]) {\n          const stockMeta = stockData.chart.result[0].meta;\n          console.log(`📊 Stock meta data:`, stockMeta);\n          console.log(`✅ Stock API works! S&P 500: ${stockMeta.regularMarketPrice}`);\n        }\n      }\n    } catch (stockError) {\n      console.log(`❌ Stock API failed:`, stockError.message);\n    }\n  } catch (error) {\n    console.error(`❌ Comparison test failed:`, error);\n  }\n};\n\n// Yahoo Finance API 테스트 함수\nexport const testYahooFinanceAPI = async () => {\n  try {\n    console.log('🧪 Testing Yahoo Finance API...');\n\n    // 간단한 테스트: USD/KRW 환율 가져오기\n    const testSymbol = 'KRW=X';\n    const testUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${testSymbol}?interval=1d&range=1d`;\n    console.log(`🔗 Testing URL: ${testUrl}`);\n    const response = await fetch(testUrl, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n      }\n    });\n    console.log(`📊 Response status: ${response.status}`);\n    console.log(`📊 Response headers:`, Object.fromEntries(response.headers.entries()));\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log(`📊 Response data keys:`, Object.keys(data));\n    if (data && data.chart && data.chart.result && data.chart.result[0]) {\n      const result = data.chart.result[0];\n      const meta = result.meta;\n      console.log(`📊 Meta data:`, meta);\n      if (meta.regularMarketPrice) {\n        console.log(`✅ Yahoo Finance API test successful! USD/KRW: ${meta.regularMarketPrice}`);\n        return true;\n      }\n    }\n    console.log(`❌ No valid data in response`);\n    return false;\n  } catch (error) {\n    console.error(`❌ Yahoo Finance API test failed:`, error);\n    return false;\n  }\n};","map":{"version":3,"names":["FX_SYMBOLS","DUMMY_FX_DATA","title","value","change","isPositive","CORS_PROXIES","fetchWithProxy","url","proxyIndex","length","Error","proxyUrl","console","log","substring","response","fetch","method","headers","status","Object","fromEntries","entries","ok","data","json","keys","chart","result","error","message","includes","fetchFXDataFromYahoo","symbol","_data$chart","_data$chart2","_data$chart2$result","_data$chart3","_data$chart3$result","_data$chart3$result$","hasChart","hasResult","resultLength","hasMeta","meta","regularMarketPrice","previousClose","currency","changePercent","toFixed","price","fetchAllFXData","promises","name","push","then","isRealData","dataSource","catch","results","Promise","all","successfulData","filter","map","item","fetchFXRate","yahooSymbol","quickFXvsStockTest","fxSymbol","fxUrl","stockSymbol","stockUrl","fxResponse","_fxData$chart","_fxData$chart2","_fxData$chart2$result","_fxData$chart3","_fxData$chart3$result","_fxData$chart3$result2","_fxData$chart4","_fxData$chart4$result","_fxData$chart4$result2","_fxData$chart5","_fxData$chart5$result","_fxData$chart5$result2","fxData","metaKeys","fxMeta","fxError","stockResponse","_stockData$chart","_stockData$chart2","_stockData$chart2$res","_stockData$chart3","_stockData$chart3$res","_stockData$chart3$res2","_stockData$chart4","_stockData$chart4$res","_stockData$chart4$res2","_stockData$chart5","_stockData$chart5$res","_stockData$chart5$res2","stockData","stockMeta","stockError","YAHOO_FINANCE_URLS","compareFXvsStockAPI","testYahooFinanceAPI","testSymbol","testUrl"],"sources":["C:/Users/홍성관/Desktop/FBoard/src/services/fxApi.js"],"sourcesContent":["// Yahoo Finance API를 사용한 FX 데이터 서비스\r\n\r\n// 주요 환율 심볼 매핑\r\nconst FX_SYMBOLS = {\r\n  'USD/KRW': 'KRW=X', // 달러/원\r\n  'EUR/KRW': 'EURKRW=X', // 유로/원\r\n  'JPY/KRW': 'JPYKRW=X', // 엔/원\r\n  'CNY/KRW': 'CNYKRW=X', // 위안/원\r\n  'GBP/KRW': 'GBPKRW=X', // 파운드/원\r\n  'EUR/USD': 'EURUSD=X', // 유로/달러\r\n  'USD/JPY': 'USDJPY=X', // 달러/엔\r\n  'GBP/USD': 'GBPUSD=X', // 파운드/달러\r\n  'USD/CNY': 'USDCNY=X', // 달러/위안\r\n  'EUR/JPY': 'EURJPY=X', // 유로/엔\r\n  'AUD/USD': 'AUDUSD=X', // 호주달러/달러\r\n  'USD/CAD': 'USDCAD=X', // 달러/캐나다달러\r\n  'USD/CHF': 'USDCHF=X', // 달러/스위스프랑\r\n  'NZD/USD': 'NZDUSD=X', // 뉴질랜드달러/달러\r\n  'USD/SGD': 'USDSGD=X' // 달러/싱가포르달러\r\n};\r\n\r\n// 현실적인 더미 FX 데이터 (2024년 12월 기준)\r\nconst DUMMY_FX_DATA = [\r\n  { title: 'USD/KRW', value: 1345.67, change: 0.15, isPositive: true },\r\n  { title: 'EUR/KRW', value: 1459.23, change: -0.21, isPositive: false },\r\n  { title: 'JPY/KRW', value: 9.12, change: 0.45, isPositive: true },\r\n  { title: 'CNY/KRW', value: 186.34, change: -0.12, isPositive: false },\r\n  { title: 'GBP/KRW', value: 1702.45, change: 0.32, isPositive: true },\r\n  { title: 'EUR/USD', value: 1.0856, change: -0.21, isPositive: false },\r\n  { title: 'USD/JPY', value: 148.45, change: 0.45, isPositive: true },\r\n  { title: 'GBP/USD', value: 1.2654, change: 0.32, isPositive: true },\r\n  { title: 'USD/CNY', value: 7.2345, change: -0.12, isPositive: false },\r\n  { title: 'EUR/JPY', value: 161.23, change: 0.24, isPositive: true },\r\n  { title: 'AUD/USD', value: 0.6756, change: 0.18, isPositive: true },\r\n  { title: 'USD/CAD', value: 1.3456, change: -0.08, isPositive: false },\r\n  { title: 'USD/CHF', value: 0.8923, change: 0.12, isPositive: true },\r\n  { title: 'NZD/USD', value: 0.6234, change: 0.25, isPositive: true },\r\n  { title: 'USD/SGD', value: 1.3456, change: -0.05, isPositive: false }\r\n];\r\n\r\n// CORS 프록시 URL들 (주식 API와 동일한 방식)\r\nconst CORS_PROXIES = [\r\n  'https://cors-anywhere.herokuapp.com/',\r\n  'https://api.allorigins.win/raw?url=',\r\n  'https://corsproxy.io/?',\r\n  '' // 직접 호출도 시도\r\n];\r\n\r\n// 프록시를 사용한 API 호출 (주식 API와 동일한 방식)\r\nconst fetchWithProxy = async (url, proxyIndex = 0) => {\r\n  if (proxyIndex >= CORS_PROXIES.length) {\r\n    throw new Error('All proxy attempts failed');\r\n  }\r\n\r\n  try {\r\n    const proxyUrl = CORS_PROXIES[proxyIndex] + url;\r\n    console.log(`🔗 Trying proxy ${proxyIndex + 1}/${CORS_PROXIES.length}: ${proxyUrl.substring(0, 80)}...`);\r\n    \r\n    const response = await fetch(proxyUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',\r\n        'Accept-Language': 'en-US,en;q=0.9',\r\n        'Accept-Encoding': 'gzip, deflate, br',\r\n        'Connection': 'keep-alive',\r\n        'Upgrade-Insecure-Requests': '1'\r\n      }\r\n    });\r\n\r\n    console.log(`📊 Proxy ${proxyIndex + 1} response status: ${response.status}`);\r\n    console.log(`📊 Proxy ${proxyIndex + 1} response headers:`, Object.fromEntries(response.headers.entries()));\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    \r\n    console.log(`📊 Proxy ${proxyIndex + 1} response data type:`, typeof data);\r\n    console.log(`📊 Proxy ${proxyIndex + 1} response data keys:`, Object.keys(data));\r\n    \r\n    if (!data || !data.chart || !data.chart.result || data.chart.result.length === 0) {\r\n      console.log(`❌ Proxy ${proxyIndex + 1} returned invalid data structure:`, data);\r\n      throw new Error('No valid data received');\r\n    }\r\n    \r\n    console.log(`✅ Proxy ${proxyIndex + 1} successful!`);\r\n    return data;\r\n  } catch (error) {\r\n    console.log(`❌ Proxy ${proxyIndex + 1} failed: ${error.message}`);\r\n    if (error.message.includes('JSON')) {\r\n      console.log(`❌ JSON parsing error - response might be HTML error page`);\r\n    }\r\n    return fetchWithProxy(url, proxyIndex + 1);\r\n  }\r\n};\r\n\r\n// Yahoo Finance API에서 환율 데이터 가져오기 (주식 API와 동일한 방식)\r\nconst fetchFXDataFromYahoo = async (symbol) => {\r\n  try {\r\n    console.log(`🔗 Fetching ${symbol} from Yahoo Finance...`);\r\n    \r\n    const url = `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?interval=1d&range=1d`;\r\n    console.log(`🔗 Full URL: ${url}`);\r\n    \r\n    const data = await fetchWithProxy(url);\r\n    \r\n    console.log(`📊 Data received for ${symbol}:`, {\r\n      hasChart: !!data.chart,\r\n      hasResult: !!data.chart?.result,\r\n      resultLength: data.chart?.result?.length,\r\n      hasMeta: !!data.chart?.result?.[0]?.meta\r\n    });\r\n    \r\n    const result = data.chart.result[0];\r\n    const meta = result.meta;\r\n    \r\n    console.log(`📊 Meta data for ${symbol}:`, {\r\n      regularMarketPrice: meta.regularMarketPrice,\r\n      previousClose: meta.previousClose,\r\n      currency: meta.currency,\r\n      symbol: meta.symbol\r\n    });\r\n    \r\n    const regularMarketPrice = meta.regularMarketPrice;\r\n    const previousClose = meta.previousClose;\r\n    \r\n    if (regularMarketPrice && previousClose) {\r\n      const change = regularMarketPrice - previousClose;\r\n      const changePercent = (change / previousClose) * 100;\r\n      \r\n      console.log(`✅ ${symbol}: ${regularMarketPrice} (${changePercent > 0 ? '+' : ''}${changePercent.toFixed(2)}%)`);\r\n      \r\n      return {\r\n        price: regularMarketPrice,\r\n        change: change,\r\n        changePercent: changePercent,\r\n        previousClose: previousClose,\r\n        isPositive: change >= 0\r\n      };\r\n    } else {\r\n      console.log(`❌ Missing price data for ${symbol}:`, {\r\n        regularMarketPrice: regularMarketPrice,\r\n        previousClose: previousClose\r\n      });\r\n    }\r\n    \r\n    throw new Error('No valid price data');\r\n  } catch (error) {\r\n    console.error(`❌ Error fetching ${symbol}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// 모든 환율 데이터 가져오기 (주식 API와 동일한 방식)\r\nexport const fetchAllFXData = async () => {\r\n  try {\r\n    console.log('🔄 Fetching FX data from Yahoo Finance...');\r\n    \r\n    const promises = [];\r\n    \r\n    // 모든 환율 심볼에 대해 병렬로 데이터 가져오기\r\n    for (const [name, symbol] of Object.entries(FX_SYMBOLS)) {\r\n      promises.push(\r\n        fetchFXDataFromYahoo(symbol)\r\n          .then(data => {\r\n            if (data) {\r\n              console.log(`✅ ${name}: ${data.price} (${data.isPositive ? '+' : ''}${data.changePercent.toFixed(2)}%)`);\r\n              return {\r\n                title: name,\r\n                value: data.price,\r\n                change: data.changePercent,\r\n                isPositive: data.isPositive,\r\n                symbol: symbol,\r\n                isRealData: true,\r\n                dataSource: 'Yahoo Finance'\r\n              };\r\n            } else {\r\n              console.log(`❌ Failed to fetch ${name}`);\r\n              return null;\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.log(`❌ Error fetching ${name}:`, error.message);\r\n            return null;\r\n          })\r\n      );\r\n    }\r\n    \r\n    // 모든 요청 완료 대기\r\n    const results = await Promise.all(promises);\r\n    \r\n    // 성공한 데이터만 필터링\r\n    const successfulData = results.filter(data => data !== null);\r\n    \r\n    console.log(`✅ Successfully fetched ${successfulData.length}/${Object.keys(FX_SYMBOLS).length} FX rates`);\r\n    \r\n    // 실제 데이터가 있으면 반환, 없으면 더미 데이터 사용\r\n    if (successfulData.length > 0) {\r\n      return successfulData;\r\n    } else {\r\n      console.log('❌ No real data available, using dummy data...');\r\n      return DUMMY_FX_DATA.map(item => ({\r\n        ...item,\r\n        isRealData: false,\r\n        dataSource: 'Dummy Data',\r\n        symbol: FX_SYMBOLS[item.title] || ''\r\n      }));\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('❌ Error fetching FX data:', error);\r\n    console.log('📊 Falling back to dummy data...');\r\n    \r\n    // 에러 발생 시 더미 데이터 반환\r\n    return DUMMY_FX_DATA.map(item => ({\r\n      ...item,\r\n      isRealData: false,\r\n      dataSource: 'Dummy Data (Error)',\r\n      symbol: FX_SYMBOLS[item.title] || ''\r\n    }));\r\n  }\r\n};\r\n\r\n// 특정 환율 데이터 가져오기\r\nexport const fetchFXRate = async (symbol) => {\r\n  const yahooSymbol = FX_SYMBOLS[symbol];\r\n  if (!yahooSymbol) {\r\n    throw new Error(`Unknown symbol: ${symbol}`);\r\n  }\r\n  \r\n  return await fetchFXDataFromYahoo(yahooSymbol);\r\n};\r\n\r\n// FX vs 주식 API 간단 테스트\r\nexport const quickFXvsStockTest = async () => {\r\n  try {\r\n    console.log('🔍 Quick FX vs Stock API Test...');\r\n    \r\n    // FX 심볼 테스트\r\n    const fxSymbol = 'KRW=X';\r\n    const fxUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${fxSymbol}?interval=1d&range=1d`;\r\n    \r\n    // 주식 심볼 테스트\r\n    const stockSymbol = '^GSPC';\r\n    const stockUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${stockSymbol}?interval=1d&range=1d`;\r\n    \r\n    console.log(`🔗 FX URL: ${fxUrl}`);\r\n    console.log(`🔗 Stock URL: ${stockUrl}`);\r\n    \r\n    // FX API 테스트\r\n    try {\r\n      console.log('🧪 Testing FX API (KRW=X)...');\r\n      const fxResponse = await fetch(fxUrl);\r\n      console.log(`📊 FX response status: ${fxResponse.status}`);\r\n      \r\n      if (fxResponse.ok) {\r\n        const fxData = await fxResponse.json();\r\n        console.log(`📊 FX data structure:`, {\r\n          hasChart: !!fxData.chart,\r\n          hasResult: !!fxData.chart?.result,\r\n          resultLength: fxData.chart?.result?.length,\r\n          hasMeta: !!fxData.chart?.result?.[0]?.meta,\r\n          metaKeys: fxData.chart?.result?.[0]?.meta ? Object.keys(fxData.chart.result[0].meta) : []\r\n        });\r\n        \r\n        if (fxData.chart?.result?.[0]?.meta) {\r\n          const fxMeta = fxData.chart.result[0].meta;\r\n          console.log(`✅ FX API works! USD/KRW: ${fxMeta.regularMarketPrice}`);\r\n        } else {\r\n          console.log(`❌ FX API returned data but no valid meta`);\r\n        }\r\n      } else {\r\n        console.log(`❌ FX API failed with status: ${fxResponse.status}`);\r\n      }\r\n    } catch (fxError) {\r\n      console.log(`❌ FX API error:`, fxError.message);\r\n    }\r\n    \r\n    // 주식 API 테스트\r\n    try {\r\n      console.log('🧪 Testing Stock API (^GSPC)...');\r\n      const stockResponse = await fetch(stockUrl);\r\n      console.log(`📊 Stock response status: ${stockResponse.status}`);\r\n      \r\n      if (stockResponse.ok) {\r\n        const stockData = await stockResponse.json();\r\n        console.log(`📊 Stock data structure:`, {\r\n          hasChart: !!stockData.chart,\r\n          hasResult: !!stockData.chart?.result,\r\n          resultLength: stockData.chart?.result?.length,\r\n          hasMeta: !!stockData.chart?.result?.[0]?.meta,\r\n          metaKeys: stockData.chart?.result?.[0]?.meta ? Object.keys(stockData.chart.result[0].meta) : []\r\n        });\r\n        \r\n        if (stockData.chart?.result?.[0]?.meta) {\r\n          const stockMeta = stockData.chart.result[0].meta;\r\n          console.log(`✅ Stock API works! S&P 500: ${stockMeta.regularMarketPrice}`);\r\n        } else {\r\n          console.log(`❌ Stock API returned data but no valid meta`);\r\n        }\r\n      } else {\r\n        console.log(`❌ Stock API failed with status: ${stockResponse.status}`);\r\n      }\r\n    } catch (stockError) {\r\n      console.log(`❌ Stock API error:`, stockError.message);\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error(`❌ Quick test failed:`, error);\r\n  }\r\n};\r\n\r\n// Yahoo Finance URL 매핑\r\nexport const YAHOO_FINANCE_URLS = {\r\n  'USD/KRW': 'https://finance.yahoo.com/quote/KRW=X',\r\n  'EUR/KRW': 'https://finance.yahoo.com/quote/EURKRW=X',\r\n  'JPY/KRW': 'https://finance.yahoo.com/quote/JPYKRW=X',\r\n  'CNY/KRW': 'https://finance.yahoo.com/quote/CNYKRW=X',\r\n  'GBP/KRW': 'https://finance.yahoo.com/quote/GBPKRW=X',\r\n  'EUR/USD': 'https://finance.yahoo.com/quote/EURUSD=X',\r\n  'USD/JPY': 'https://finance.yahoo.com/quote/USDJPY=X',\r\n  'GBP/USD': 'https://finance.yahoo.com/quote/GBPUSD=X',\r\n  'USD/CNY': 'https://finance.yahoo.com/quote/USDCNY=X',\r\n  'EUR/JPY': 'https://finance.yahoo.com/quote/EURJPY=X',\r\n  'AUD/USD': 'https://finance.yahoo.com/quote/AUDUSD=X',\r\n  'USD/CAD': 'https://finance.yahoo.com/quote/USDCAD=X',\r\n  'USD/CHF': 'https://finance.yahoo.com/quote/USDCHF=X',\r\n  'NZD/USD': 'https://finance.yahoo.com/quote/NZDUSD=X',\r\n  'USD/SGD': 'https://finance.yahoo.com/quote/USDSGD=X'\r\n};\r\n\r\n// FX vs 주식 API 비교 테스트\r\nexport const compareFXvsStockAPI = async () => {\r\n  try {\r\n    console.log('🔍 Comparing FX vs Stock API...');\r\n    \r\n    // FX 심볼 테스트\r\n    const fxSymbol = 'KRW=X';\r\n    const fxUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${fxSymbol}?interval=1d&range=1d`;\r\n    \r\n    // 주식 심볼 테스트\r\n    const stockSymbol = '^GSPC';\r\n    const stockUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${stockSymbol}?interval=1d&range=1d`;\r\n    \r\n    console.log(`🔗 FX URL: ${fxUrl}`);\r\n    console.log(`🔗 Stock URL: ${stockUrl}`);\r\n    \r\n    // FX API 테스트\r\n    try {\r\n      console.log('🧪 Testing FX API...');\r\n      const fxResponse = await fetch(fxUrl, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\r\n        }\r\n      });\r\n      \r\n      console.log(`📊 FX response status: ${fxResponse.status}`);\r\n      console.log(`📊 FX response headers:`, Object.fromEntries(fxResponse.headers.entries()));\r\n      \r\n      if (fxResponse.ok) {\r\n        const fxData = await fxResponse.json();\r\n        console.log(`📊 FX data keys:`, Object.keys(fxData));\r\n        \r\n        if (fxData && fxData.chart && fxData.chart.result && fxData.chart.result[0]) {\r\n          const fxMeta = fxData.chart.result[0].meta;\r\n          console.log(`📊 FX meta data:`, fxMeta);\r\n          console.log(`✅ FX API works! USD/KRW: ${fxMeta.regularMarketPrice}`);\r\n        }\r\n      }\r\n    } catch (fxError) {\r\n      console.log(`❌ FX API failed:`, fxError.message);\r\n    }\r\n    \r\n    // 주식 API 테스트\r\n    try {\r\n      console.log('🧪 Testing Stock API...');\r\n      const stockResponse = await fetch(stockUrl, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\r\n        }\r\n      });\r\n      \r\n      console.log(`📊 Stock response status: ${stockResponse.status}`);\r\n      console.log(`📊 Stock response headers:`, Object.fromEntries(stockResponse.headers.entries()));\r\n      \r\n      if (stockResponse.ok) {\r\n        const stockData = await stockResponse.json();\r\n        console.log(`📊 Stock data keys:`, Object.keys(stockData));\r\n        \r\n        if (stockData && stockData.chart && stockData.chart.result && stockData.chart.result[0]) {\r\n          const stockMeta = stockData.chart.result[0].meta;\r\n          console.log(`📊 Stock meta data:`, stockMeta);\r\n          console.log(`✅ Stock API works! S&P 500: ${stockMeta.regularMarketPrice}`);\r\n        }\r\n      }\r\n    } catch (stockError) {\r\n      console.log(`❌ Stock API failed:`, stockError.message);\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error(`❌ Comparison test failed:`, error);\r\n  }\r\n};\r\n\r\n// Yahoo Finance API 테스트 함수\r\nexport const testYahooFinanceAPI = async () => {\r\n  try {\r\n    console.log('🧪 Testing Yahoo Finance API...');\r\n    \r\n    // 간단한 테스트: USD/KRW 환율 가져오기\r\n    const testSymbol = 'KRW=X';\r\n    const testUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${testSymbol}?interval=1d&range=1d`;\r\n    \r\n    console.log(`🔗 Testing URL: ${testUrl}`);\r\n    \r\n    const response = await fetch(testUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\r\n      }\r\n    });\r\n    \r\n    console.log(`📊 Response status: ${response.status}`);\r\n    console.log(`📊 Response headers:`, Object.fromEntries(response.headers.entries()));\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    console.log(`📊 Response data keys:`, Object.keys(data));\r\n    \r\n    if (data && data.chart && data.chart.result && data.chart.result[0]) {\r\n      const result = data.chart.result[0];\r\n      const meta = result.meta;\r\n      console.log(`📊 Meta data:`, meta);\r\n      \r\n      if (meta.regularMarketPrice) {\r\n        console.log(`✅ Yahoo Finance API test successful! USD/KRW: ${meta.regularMarketPrice}`);\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    console.log(`❌ No valid data in response`);\r\n    return false;\r\n    \r\n  } catch (error) {\r\n    console.error(`❌ Yahoo Finance API test failed:`, error);\r\n    return false;\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}