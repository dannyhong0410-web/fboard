{"ast":null,"code":"// Yahoo Finance API를 사용한 주식 데이터 서비스\nconst BASE_URL = 'https://query1.finance.yahoo.com/v8/finance/chart';\nconst ALPHA_VANTAGE_URL = 'https://www.alphavantage.co/query';\n\n// 더미 데이터 (API 문제시 사용)\nconst DUMMY_STOCK_DATA = [{\n  symbol: '^GSPC',\n  price: 4567.89,\n  change: 56.78,\n  changePercent: 1.23,\n  previousClose: 4511.11,\n  open: 4520.00,\n  high: 4580.00,\n  low: 4510.00,\n  volume: 2345678901,\n  currency: 'USD'\n}, {\n  symbol: '^IXIC',\n  price: 14234.56,\n  change: -64.32,\n  changePercent: -0.45,\n  previousClose: 14298.88,\n  open: 14300.00,\n  high: 14350.00,\n  low: 14200.00,\n  volume: 3456789012,\n  currency: 'USD'\n}, {\n  symbol: '^DJI',\n  price: 35678.90,\n  change: 278.45,\n  changePercent: 0.78,\n  previousClose: 35400.45,\n  open: 35450.00,\n  high: 35800.00,\n  low: 35400.00,\n  volume: 4567890123,\n  currency: 'USD'\n}, {\n  symbol: '^VIX',\n  price: 18.45,\n  change: -0.40,\n  changePercent: -2.1,\n  previousClose: 18.85,\n  open: 19.00,\n  high: 19.20,\n  low: 18.30,\n  volume: 5678901234,\n  currency: 'USD'\n}, {\n  symbol: '^KS11',\n  price: 2567.89,\n  change: 23.45,\n  changePercent: 0.92,\n  previousClose: 2544.44,\n  open: 2550.00,\n  high: 2580.00,\n  low: 2540.00,\n  volume: 6789012345,\n  currency: 'KRW'\n}, {\n  symbol: '^KQ11',\n  price: 856.78,\n  change: -2.92,\n  changePercent: -0.34,\n  previousClose: 859.70,\n  open: 860.00,\n  high: 865.00,\n  low: 855.00,\n  volume: 7890123456,\n  currency: 'KRW'\n}];\n\n// 더미 차트 데이터 생성\nconst generateDummyChartData = (symbol, range = '1mo') => {\n  var _DUMMY_STOCK_DATA$fin;\n  const days = range === '1d' ? 1 : range === '5d' ? 5 : range === '1mo' ? 30 : 90;\n  const data = [];\n  const basePrice = ((_DUMMY_STOCK_DATA$fin = DUMMY_STOCK_DATA.find(stock => stock.symbol === symbol)) === null || _DUMMY_STOCK_DATA$fin === void 0 ? void 0 : _DUMMY_STOCK_DATA$fin.price) || 100;\n  for (let i = days - 1; i >= 0; i--) {\n    const date = new Date();\n    date.setDate(date.getDate() - i);\n\n    // 랜덤한 가격 변동 생성\n    const variation = (Math.random() - 0.5) * 0.02; // ±1% 변동\n    const price = basePrice * (1 + variation);\n    data.push({\n      date: date.toLocaleDateString('ko-KR'),\n      timestamp: Math.floor(date.getTime() / 1000),\n      open: price * (1 + (Math.random() - 0.5) * 0.01),\n      high: price * (1 + Math.random() * 0.01),\n      low: price * (1 - Math.random() * 0.01),\n      close: price,\n      volume: Math.floor(Math.random() * 1000000) + 100000\n    });\n  }\n  return data;\n};\n\n// CORS 프록시 URL들 (여러 개 시도)\nconst CORS_PROXIES = ['https://cors-anywhere.herokuapp.com/', 'https://api.allorigins.win/raw?url=', 'https://corsproxy.io/?', '' // 직접 호출도 시도\n];\n\n// 프록시를 사용한 API 호출\nconst fetchWithProxy = async (url, proxyIndex = 0) => {\n  if (proxyIndex >= CORS_PROXIES.length) {\n    throw new Error('All proxy attempts failed');\n  }\n  try {\n    const proxyUrl = CORS_PROXIES[proxyIndex] + url;\n    const response = await fetch(proxyUrl, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return response;\n  } catch (error) {\n    console.log(`Proxy ${proxyIndex} failed, trying next...`);\n    return fetchWithProxy(url, proxyIndex + 1);\n  }\n};\n\n// Alpha Vantage API를 사용한 주식 데이터 가져오기 (대체 방법)\nexport const fetchStockDataAlphaVantage = async symbol => {\n  try {\n    // 무료 API 키 (실제 사용시에는 본인의 API 키를 사용해야 함)\n    const API_KEY = 'demo'; // 실제 사용시 본인의 API 키로 교체\n    const url = `${ALPHA_VANTAGE_URL}?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${API_KEY}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    if (data['Error Message']) {\n      throw new Error(data['Error Message']);\n    }\n    const quote = data['Global Quote'];\n    if (!quote) {\n      throw new Error('No quote data available');\n    }\n    return {\n      symbol: symbol,\n      price: parseFloat(quote['05. price']) || 0,\n      change: parseFloat(quote['09. change']) || 0,\n      changePercent: parseFloat(quote['10. change percent'].replace('%', '')) || 0,\n      previousClose: parseFloat(quote['08. previous close']) || 0,\n      open: parseFloat(quote['02. open']) || 0,\n      high: parseFloat(quote['03. high']) || 0,\n      low: parseFloat(quote['04. low']) || 0,\n      volume: parseInt(quote['06. volume']) || 0,\n      currency: 'USD'\n    };\n  } catch (error) {\n    console.error('Error fetching Alpha Vantage data:', error);\n    throw error;\n  }\n};\n\n// 주식 심볼별 차트 데이터 가져오기\nexport const fetchStockChartData = async (symbol, range = '1mo', interval = '1d') => {\n  try {\n    const url = `${BASE_URL}/${symbol}?interval=${interval}&range=${range}`;\n    const response = await fetchWithProxy(url);\n    const data = await response.json();\n    if (!data.chart || !data.chart.result || data.chart.result.length === 0) {\n      throw new Error('No chart data available');\n    }\n    const result = data.chart.result[0];\n    const timestamps = result.timestamp;\n    const quotes = result.indicators.quote[0];\n\n    // 데이터 정리 및 변환\n    const chartData = timestamps.map((timestamp, index) => {\n      const date = new Date(timestamp * 1000);\n      return {\n        date: date.toLocaleDateString('ko-KR'),\n        timestamp: timestamp,\n        open: quotes.open[index] || 0,\n        high: quotes.high[index] || 0,\n        low: quotes.low[index] || 0,\n        close: quotes.close[index] || 0,\n        volume: quotes.volume[index] || 0\n      };\n    }).filter(item => item.close > 0); // 유효한 데이터만 필터링\n\n    return chartData;\n  } catch (error) {\n    console.error('Error fetching stock data:', error);\n    // API 실패시 더미 데이터 사용\n    console.log('Using dummy data as fallback...');\n    return generateDummyChartData(symbol, range);\n  }\n};\n\n// 주식 실시간 가격 정보 가져오기\nexport const fetchStockQuote = async symbol => {\n  try {\n    const url = `${BASE_URL}/${symbol}?interval=1m&range=1d`;\n    const response = await fetchWithProxy(url);\n    const data = await response.json();\n    if (!data.chart || !data.chart.result || data.chart.result.length === 0) {\n      throw new Error('No quote data available');\n    }\n    const result = data.chart.result[0];\n    const meta = result.meta;\n    const quotes = result.indicators.quote[0];\n\n    // 가장 최근 데이터\n    const latestIndex = quotes.close.length - 1;\n    return {\n      symbol: symbol,\n      price: meta.regularMarketPrice || quotes.close[latestIndex] || 0,\n      change: meta.regularMarketPrice - meta.previousClose || 0,\n      changePercent: (meta.regularMarketPrice - meta.previousClose) / meta.previousClose * 100 || 0,\n      previousClose: meta.previousClose || 0,\n      open: quotes.open[latestIndex] || 0,\n      high: quotes.high[latestIndex] || 0,\n      low: quotes.low[latestIndex] || 0,\n      volume: quotes.volume[latestIndex] || 0,\n      marketCap: meta.marketCap || 0,\n      currency: meta.currency || 'USD'\n    };\n  } catch (error) {\n    console.error('Error fetching stock quote:', error);\n    // Yahoo Finance API 실패시 Alpha Vantage 시도\n    try {\n      console.log('Trying Alpha Vantage as fallback...');\n      return await fetchStockDataAlphaVantage(symbol);\n    } catch (fallbackError) {\n      console.error('Fallback API also failed:', fallbackError);\n      // 모든 API 실패시 더미 데이터 사용\n      console.log('Using dummy data as final fallback...');\n      const dummyData = DUMMY_STOCK_DATA.find(stock => stock.symbol === symbol);\n      if (dummyData) {\n        return dummyData;\n      }\n      throw error;\n    }\n  }\n};\n\n// 여러 주식 심볼의 실시간 데이터 가져오기\nexport const fetchMultipleStockQuotes = async symbols => {\n  try {\n    const promises = symbols.map(symbol => fetchStockQuote(symbol));\n    const results = await Promise.allSettled(promises);\n    return results.map((result, index) => {\n      if (result.status === 'fulfilled') {\n        return result.value;\n      } else {\n        console.error(`Failed to fetch ${symbols[index]}:`, result.reason);\n        // API 실패시 더미 데이터 사용\n        const dummyData = DUMMY_STOCK_DATA.find(stock => stock.symbol === symbols[index]);\n        if (dummyData) {\n          console.log(`Using dummy data for ${symbols[index]}`);\n          return dummyData;\n        }\n        return {\n          symbol: symbols[index],\n          error: true,\n          message: result.reason.message\n        };\n      }\n    });\n  } catch (error) {\n    console.error('Error fetching multiple stock quotes:', error);\n    // 전체 실패시 더미 데이터 반환\n    console.log('All APIs failed, using dummy data...');\n    return DUMMY_STOCK_DATA;\n  }\n};\n\n// 인기 주식 심볼들\nexport const POPULAR_STOCKS = ['^GSPC',\n// S&P 500\n'^IXIC',\n// NASDAQ\n'^DJI',\n// DOW JONES\n'^VIX',\n// VIX\n'^KS11',\n// KOSPI\n'^KQ11' // KOSDAQ\n];","map":{"version":3,"names":["BASE_URL","ALPHA_VANTAGE_URL","DUMMY_STOCK_DATA","symbol","price","change","changePercent","previousClose","open","high","low","volume","currency","generateDummyChartData","range","_DUMMY_STOCK_DATA$fin","days","data","basePrice","find","stock","i","date","Date","setDate","getDate","variation","Math","random","push","toLocaleDateString","timestamp","floor","getTime","close","CORS_PROXIES","fetchWithProxy","url","proxyIndex","length","Error","proxyUrl","response","fetch","method","headers","ok","status","error","console","log","fetchStockDataAlphaVantage","API_KEY","json","quote","parseFloat","replace","parseInt","fetchStockChartData","interval","chart","result","timestamps","quotes","indicators","chartData","map","index","filter","item","fetchStockQuote","meta","latestIndex","regularMarketPrice","marketCap","fallbackError","dummyData","fetchMultipleStockQuotes","symbols","promises","results","Promise","allSettled","value","reason","message","POPULAR_STOCKS"],"sources":["C:/Users/홍성관/Desktop/FBoard/src/services/stockApi.js"],"sourcesContent":["// Yahoo Finance API를 사용한 주식 데이터 서비스\r\nconst BASE_URL = 'https://query1.finance.yahoo.com/v8/finance/chart';\r\nconst ALPHA_VANTAGE_URL = 'https://www.alphavantage.co/query';\r\n\r\n// 더미 데이터 (API 문제시 사용)\r\nconst DUMMY_STOCK_DATA = [\r\n  {\r\n    symbol: '^GSPC',\r\n    price: 4567.89,\r\n    change: 56.78,\r\n    changePercent: 1.23,\r\n    previousClose: 4511.11,\r\n    open: 4520.00,\r\n    high: 4580.00,\r\n    low: 4510.00,\r\n    volume: 2345678901,\r\n    currency: 'USD'\r\n  },\r\n  {\r\n    symbol: '^IXIC',\r\n    price: 14234.56,\r\n    change: -64.32,\r\n    changePercent: -0.45,\r\n    previousClose: 14298.88,\r\n    open: 14300.00,\r\n    high: 14350.00,\r\n    low: 14200.00,\r\n    volume: 3456789012,\r\n    currency: 'USD'\r\n  },\r\n  {\r\n    symbol: '^DJI',\r\n    price: 35678.90,\r\n    change: 278.45,\r\n    changePercent: 0.78,\r\n    previousClose: 35400.45,\r\n    open: 35450.00,\r\n    high: 35800.00,\r\n    low: 35400.00,\r\n    volume: 4567890123,\r\n    currency: 'USD'\r\n  },\r\n  {\r\n    symbol: '^VIX',\r\n    price: 18.45,\r\n    change: -0.40,\r\n    changePercent: -2.1,\r\n    previousClose: 18.85,\r\n    open: 19.00,\r\n    high: 19.20,\r\n    low: 18.30,\r\n    volume: 5678901234,\r\n    currency: 'USD'\r\n  },\r\n  {\r\n    symbol: '^KS11',\r\n    price: 2567.89,\r\n    change: 23.45,\r\n    changePercent: 0.92,\r\n    previousClose: 2544.44,\r\n    open: 2550.00,\r\n    high: 2580.00,\r\n    low: 2540.00,\r\n    volume: 6789012345,\r\n    currency: 'KRW'\r\n  },\r\n  {\r\n    symbol: '^KQ11',\r\n    price: 856.78,\r\n    change: -2.92,\r\n    changePercent: -0.34,\r\n    previousClose: 859.70,\r\n    open: 860.00,\r\n    high: 865.00,\r\n    low: 855.00,\r\n    volume: 7890123456,\r\n    currency: 'KRW'\r\n  }\r\n];\r\n\r\n// 더미 차트 데이터 생성\r\nconst generateDummyChartData = (symbol, range = '1mo') => {\r\n  const days = range === '1d' ? 1 : range === '5d' ? 5 : range === '1mo' ? 30 : 90;\r\n  const data = [];\r\n  const basePrice = DUMMY_STOCK_DATA.find(stock => stock.symbol === symbol)?.price || 100;\r\n  \r\n  for (let i = days - 1; i >= 0; i--) {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() - i);\r\n    \r\n    // 랜덤한 가격 변동 생성\r\n    const variation = (Math.random() - 0.5) * 0.02; // ±1% 변동\r\n    const price = basePrice * (1 + variation);\r\n    \r\n    data.push({\r\n      date: date.toLocaleDateString('ko-KR'),\r\n      timestamp: Math.floor(date.getTime() / 1000),\r\n      open: price * (1 + (Math.random() - 0.5) * 0.01),\r\n      high: price * (1 + Math.random() * 0.01),\r\n      low: price * (1 - Math.random() * 0.01),\r\n      close: price,\r\n      volume: Math.floor(Math.random() * 1000000) + 100000\r\n    });\r\n  }\r\n  \r\n  return data;\r\n};\r\n\r\n// CORS 프록시 URL들 (여러 개 시도)\r\nconst CORS_PROXIES = [\r\n  'https://cors-anywhere.herokuapp.com/',\r\n  'https://api.allorigins.win/raw?url=',\r\n  'https://corsproxy.io/?',\r\n  '' // 직접 호출도 시도\r\n];\r\n\r\n// 프록시를 사용한 API 호출\r\nconst fetchWithProxy = async (url, proxyIndex = 0) => {\r\n  if (proxyIndex >= CORS_PROXIES.length) {\r\n    throw new Error('All proxy attempts failed');\r\n  }\r\n\r\n  try {\r\n    const proxyUrl = CORS_PROXIES[proxyIndex] + url;\r\n    const response = await fetch(proxyUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\r\n      }\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    return response;\r\n  } catch (error) {\r\n    console.log(`Proxy ${proxyIndex} failed, trying next...`);\r\n    return fetchWithProxy(url, proxyIndex + 1);\r\n  }\r\n};\r\n\r\n// Alpha Vantage API를 사용한 주식 데이터 가져오기 (대체 방법)\r\nexport const fetchStockDataAlphaVantage = async (symbol) => {\r\n  try {\r\n    // 무료 API 키 (실제 사용시에는 본인의 API 키를 사용해야 함)\r\n    const API_KEY = 'demo'; // 실제 사용시 본인의 API 키로 교체\r\n    const url = `${ALPHA_VANTAGE_URL}?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${API_KEY}`;\r\n    \r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    \r\n    if (data['Error Message']) {\r\n      throw new Error(data['Error Message']);\r\n    }\r\n    \r\n    const quote = data['Global Quote'];\r\n    if (!quote) {\r\n      throw new Error('No quote data available');\r\n    }\r\n    \r\n    return {\r\n      symbol: symbol,\r\n      price: parseFloat(quote['05. price']) || 0,\r\n      change: parseFloat(quote['09. change']) || 0,\r\n      changePercent: parseFloat(quote['10. change percent'].replace('%', '')) || 0,\r\n      previousClose: parseFloat(quote['08. previous close']) || 0,\r\n      open: parseFloat(quote['02. open']) || 0,\r\n      high: parseFloat(quote['03. high']) || 0,\r\n      low: parseFloat(quote['04. low']) || 0,\r\n      volume: parseInt(quote['06. volume']) || 0,\r\n      currency: 'USD'\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching Alpha Vantage data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 주식 심볼별 차트 데이터 가져오기\r\nexport const fetchStockChartData = async (symbol, range = '1mo', interval = '1d') => {\r\n  try {\r\n    const url = `${BASE_URL}/${symbol}?interval=${interval}&range=${range}`;\r\n    const response = await fetchWithProxy(url);\r\n    \r\n    const data = await response.json();\r\n    \r\n    if (!data.chart || !data.chart.result || data.chart.result.length === 0) {\r\n      throw new Error('No chart data available');\r\n    }\r\n    \r\n    const result = data.chart.result[0];\r\n    const timestamps = result.timestamp;\r\n    const quotes = result.indicators.quote[0];\r\n    \r\n    // 데이터 정리 및 변환\r\n    const chartData = timestamps.map((timestamp, index) => {\r\n      const date = new Date(timestamp * 1000);\r\n      return {\r\n        date: date.toLocaleDateString('ko-KR'),\r\n        timestamp: timestamp,\r\n        open: quotes.open[index] || 0,\r\n        high: quotes.high[index] || 0,\r\n        low: quotes.low[index] || 0,\r\n        close: quotes.close[index] || 0,\r\n        volume: quotes.volume[index] || 0\r\n      };\r\n    }).filter(item => item.close > 0); // 유효한 데이터만 필터링\r\n    \r\n    return chartData;\r\n  } catch (error) {\r\n    console.error('Error fetching stock data:', error);\r\n    // API 실패시 더미 데이터 사용\r\n    console.log('Using dummy data as fallback...');\r\n    return generateDummyChartData(symbol, range);\r\n  }\r\n};\r\n\r\n// 주식 실시간 가격 정보 가져오기\r\nexport const fetchStockQuote = async (symbol) => {\r\n  try {\r\n    const url = `${BASE_URL}/${symbol}?interval=1m&range=1d`;\r\n    const response = await fetchWithProxy(url);\r\n    \r\n    const data = await response.json();\r\n    \r\n    if (!data.chart || !data.chart.result || data.chart.result.length === 0) {\r\n      throw new Error('No quote data available');\r\n    }\r\n    \r\n    const result = data.chart.result[0];\r\n    const meta = result.meta;\r\n    const quotes = result.indicators.quote[0];\r\n    \r\n    // 가장 최근 데이터\r\n    const latestIndex = quotes.close.length - 1;\r\n    \r\n    return {\r\n      symbol: symbol,\r\n      price: meta.regularMarketPrice || quotes.close[latestIndex] || 0,\r\n      change: meta.regularMarketPrice - meta.previousClose || 0,\r\n      changePercent: ((meta.regularMarketPrice - meta.previousClose) / meta.previousClose * 100) || 0,\r\n      previousClose: meta.previousClose || 0,\r\n      open: quotes.open[latestIndex] || 0,\r\n      high: quotes.high[latestIndex] || 0,\r\n      low: quotes.low[latestIndex] || 0,\r\n      volume: quotes.volume[latestIndex] || 0,\r\n      marketCap: meta.marketCap || 0,\r\n      currency: meta.currency || 'USD'\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching stock quote:', error);\r\n    // Yahoo Finance API 실패시 Alpha Vantage 시도\r\n    try {\r\n      console.log('Trying Alpha Vantage as fallback...');\r\n      return await fetchStockDataAlphaVantage(symbol);\r\n    } catch (fallbackError) {\r\n      console.error('Fallback API also failed:', fallbackError);\r\n      // 모든 API 실패시 더미 데이터 사용\r\n      console.log('Using dummy data as final fallback...');\r\n      const dummyData = DUMMY_STOCK_DATA.find(stock => stock.symbol === symbol);\r\n      if (dummyData) {\r\n        return dummyData;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// 여러 주식 심볼의 실시간 데이터 가져오기\r\nexport const fetchMultipleStockQuotes = async (symbols) => {\r\n  try {\r\n    const promises = symbols.map(symbol => fetchStockQuote(symbol));\r\n    const results = await Promise.allSettled(promises);\r\n    \r\n    return results.map((result, index) => {\r\n      if (result.status === 'fulfilled') {\r\n        return result.value;\r\n      } else {\r\n        console.error(`Failed to fetch ${symbols[index]}:`, result.reason);\r\n        // API 실패시 더미 데이터 사용\r\n        const dummyData = DUMMY_STOCK_DATA.find(stock => stock.symbol === symbols[index]);\r\n        if (dummyData) {\r\n          console.log(`Using dummy data for ${symbols[index]}`);\r\n          return dummyData;\r\n        }\r\n        return {\r\n          symbol: symbols[index],\r\n          error: true,\r\n          message: result.reason.message\r\n        };\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error('Error fetching multiple stock quotes:', error);\r\n    // 전체 실패시 더미 데이터 반환\r\n    console.log('All APIs failed, using dummy data...');\r\n    return DUMMY_STOCK_DATA;\r\n  }\r\n};\r\n\r\n// 인기 주식 심볼들\r\nexport const POPULAR_STOCKS = [\r\n  '^GSPC',    // S&P 500\r\n  '^IXIC',    // NASDAQ\r\n  '^DJI',     // DOW JONES\r\n  '^VIX',     // VIX\r\n  '^KS11',    // KOSPI\r\n  '^KQ11'     // KOSDAQ\r\n]; "],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,mDAAmD;AACpE,MAAMC,iBAAiB,GAAG,mCAAmC;;AAE7D;AACA,MAAMC,gBAAgB,GAAG,CACvB;EACEC,MAAM,EAAE,OAAO;EACfC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,KAAK;EACbC,aAAa,EAAE,IAAI;EACnBC,aAAa,EAAE,OAAO;EACtBC,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,OAAO;EACbC,GAAG,EAAE,OAAO;EACZC,MAAM,EAAE,UAAU;EAClBC,QAAQ,EAAE;AACZ,CAAC,EACD;EACET,MAAM,EAAE,OAAO;EACfC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,CAAC,KAAK;EACdC,aAAa,EAAE,CAAC,IAAI;EACpBC,aAAa,EAAE,QAAQ;EACvBC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,GAAG,EAAE,QAAQ;EACbC,MAAM,EAAE,UAAU;EAClBC,QAAQ,EAAE;AACZ,CAAC,EACD;EACET,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,MAAM;EACdC,aAAa,EAAE,IAAI;EACnBC,aAAa,EAAE,QAAQ;EACvBC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,GAAG,EAAE,QAAQ;EACbC,MAAM,EAAE,UAAU;EAClBC,QAAQ,EAAE;AACZ,CAAC,EACD;EACET,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE,KAAK;EACZC,MAAM,EAAE,CAAC,IAAI;EACbC,aAAa,EAAE,CAAC,GAAG;EACnBC,aAAa,EAAE,KAAK;EACpBC,IAAI,EAAE,KAAK;EACXC,IAAI,EAAE,KAAK;EACXC,GAAG,EAAE,KAAK;EACVC,MAAM,EAAE,UAAU;EAClBC,QAAQ,EAAE;AACZ,CAAC,EACD;EACET,MAAM,EAAE,OAAO;EACfC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,KAAK;EACbC,aAAa,EAAE,IAAI;EACnBC,aAAa,EAAE,OAAO;EACtBC,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,OAAO;EACbC,GAAG,EAAE,OAAO;EACZC,MAAM,EAAE,UAAU;EAClBC,QAAQ,EAAE;AACZ,CAAC,EACD;EACET,MAAM,EAAE,OAAO;EACfC,KAAK,EAAE,MAAM;EACbC,MAAM,EAAE,CAAC,IAAI;EACbC,aAAa,EAAE,CAAC,IAAI;EACpBC,aAAa,EAAE,MAAM;EACrBC,IAAI,EAAE,MAAM;EACZC,IAAI,EAAE,MAAM;EACZC,GAAG,EAAE,MAAM;EACXC,MAAM,EAAE,UAAU;EAClBC,QAAQ,EAAE;AACZ,CAAC,CACF;;AAED;AACA,MAAMC,sBAAsB,GAAGA,CAACV,MAAM,EAAEW,KAAK,GAAG,KAAK,KAAK;EAAA,IAAAC,qBAAA;EACxD,MAAMC,IAAI,GAAGF,KAAK,KAAK,IAAI,GAAG,CAAC,GAAGA,KAAK,KAAK,IAAI,GAAG,CAAC,GAAGA,KAAK,KAAK,KAAK,GAAG,EAAE,GAAG,EAAE;EAChF,MAAMG,IAAI,GAAG,EAAE;EACf,MAAMC,SAAS,GAAG,EAAAH,qBAAA,GAAAb,gBAAgB,CAACiB,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACjB,MAAM,KAAKA,MAAM,CAAC,cAAAY,qBAAA,uBAAvDA,qBAAA,CAAyDX,KAAK,KAAI,GAAG;EAEvF,KAAK,IAAIiB,CAAC,GAAGL,IAAI,GAAG,CAAC,EAAEK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IAClC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACvBD,IAAI,CAACE,OAAO,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAGJ,CAAC,CAAC;;IAEhC;IACA,MAAMK,SAAS,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,CAAC;IAChD,MAAMxB,KAAK,GAAGc,SAAS,IAAI,CAAC,GAAGQ,SAAS,CAAC;IAEzCT,IAAI,CAACY,IAAI,CAAC;MACRP,IAAI,EAAEA,IAAI,CAACQ,kBAAkB,CAAC,OAAO,CAAC;MACtCC,SAAS,EAAEJ,IAAI,CAACK,KAAK,CAACV,IAAI,CAACW,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC;MAC5CzB,IAAI,EAAEJ,KAAK,IAAI,CAAC,GAAG,CAACuB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC;MAChDnB,IAAI,EAAEL,KAAK,IAAI,CAAC,GAAGuB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;MACxClB,GAAG,EAAEN,KAAK,IAAI,CAAC,GAAGuB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;MACvCM,KAAK,EAAE9B,KAAK;MACZO,MAAM,EAAEgB,IAAI,CAACK,KAAK,CAACL,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG;IAChD,CAAC,CAAC;EACJ;EAEA,OAAOX,IAAI;AACb,CAAC;;AAED;AACA,MAAMkB,YAAY,GAAG,CACnB,sCAAsC,EACtC,qCAAqC,EACrC,wBAAwB,EACxB,EAAE,CAAC;AAAA,CACJ;;AAED;AACA,MAAMC,cAAc,GAAG,MAAAA,CAAOC,GAAG,EAAEC,UAAU,GAAG,CAAC,KAAK;EACpD,IAAIA,UAAU,IAAIH,YAAY,CAACI,MAAM,EAAE;IACrC,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;EAC9C;EAEA,IAAI;IACF,MAAMC,QAAQ,GAAGN,YAAY,CAACG,UAAU,CAAC,GAAGD,GAAG;IAC/C,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACF,QAAQ,EAAE;MACrCG,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,YAAY,EAAE;MAChB;IACF,CAAC,CAAC;IAEF,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;MAChB,MAAM,IAAIN,KAAK,CAAC,uBAAuBE,QAAQ,CAACK,MAAM,EAAE,CAAC;IAC3D;IAEA,OAAOL,QAAQ;EACjB,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,SAASZ,UAAU,yBAAyB,CAAC;IACzD,OAAOF,cAAc,CAACC,GAAG,EAAEC,UAAU,GAAG,CAAC,CAAC;EAC5C;AACF,CAAC;;AAED;AACA,OAAO,MAAMa,0BAA0B,GAAG,MAAOhD,MAAM,IAAK;EAC1D,IAAI;IACF;IACA,MAAMiD,OAAO,GAAG,MAAM,CAAC,CAAC;IACxB,MAAMf,GAAG,GAAG,GAAGpC,iBAAiB,iCAAiCE,MAAM,WAAWiD,OAAO,EAAE;IAE3F,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,CAAC;IACjC,MAAMpB,IAAI,GAAG,MAAMyB,QAAQ,CAACW,IAAI,CAAC,CAAC;IAElC,IAAIpC,IAAI,CAAC,eAAe,CAAC,EAAE;MACzB,MAAM,IAAIuB,KAAK,CAACvB,IAAI,CAAC,eAAe,CAAC,CAAC;IACxC;IAEA,MAAMqC,KAAK,GAAGrC,IAAI,CAAC,cAAc,CAAC;IAClC,IAAI,CAACqC,KAAK,EAAE;MACV,MAAM,IAAId,KAAK,CAAC,yBAAyB,CAAC;IAC5C;IAEA,OAAO;MACLrC,MAAM,EAAEA,MAAM;MACdC,KAAK,EAAEmD,UAAU,CAACD,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC;MAC1CjD,MAAM,EAAEkD,UAAU,CAACD,KAAK,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;MAC5ChD,aAAa,EAAEiD,UAAU,CAACD,KAAK,CAAC,oBAAoB,CAAC,CAACE,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC;MAC5EjD,aAAa,EAAEgD,UAAU,CAACD,KAAK,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC;MAC3D9C,IAAI,EAAE+C,UAAU,CAACD,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;MACxC7C,IAAI,EAAE8C,UAAU,CAACD,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;MACxC5C,GAAG,EAAE6C,UAAU,CAACD,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;MACtC3C,MAAM,EAAE8C,QAAQ,CAACH,KAAK,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;MAC1C1C,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC,CAAC,OAAOoC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC1D,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMU,mBAAmB,GAAG,MAAAA,CAAOvD,MAAM,EAAEW,KAAK,GAAG,KAAK,EAAE6C,QAAQ,GAAG,IAAI,KAAK;EACnF,IAAI;IACF,MAAMtB,GAAG,GAAG,GAAGrC,QAAQ,IAAIG,MAAM,aAAawD,QAAQ,UAAU7C,KAAK,EAAE;IACvE,MAAM4B,QAAQ,GAAG,MAAMN,cAAc,CAACC,GAAG,CAAC;IAE1C,MAAMpB,IAAI,GAAG,MAAMyB,QAAQ,CAACW,IAAI,CAAC,CAAC;IAElC,IAAI,CAACpC,IAAI,CAAC2C,KAAK,IAAI,CAAC3C,IAAI,CAAC2C,KAAK,CAACC,MAAM,IAAI5C,IAAI,CAAC2C,KAAK,CAACC,MAAM,CAACtB,MAAM,KAAK,CAAC,EAAE;MACvE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;IAC5C;IAEA,MAAMqB,MAAM,GAAG5C,IAAI,CAAC2C,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC;IACnC,MAAMC,UAAU,GAAGD,MAAM,CAAC9B,SAAS;IACnC,MAAMgC,MAAM,GAAGF,MAAM,CAACG,UAAU,CAACV,KAAK,CAAC,CAAC,CAAC;;IAEzC;IACA,MAAMW,SAAS,GAAGH,UAAU,CAACI,GAAG,CAAC,CAACnC,SAAS,EAAEoC,KAAK,KAAK;MACrD,MAAM7C,IAAI,GAAG,IAAIC,IAAI,CAACQ,SAAS,GAAG,IAAI,CAAC;MACvC,OAAO;QACLT,IAAI,EAAEA,IAAI,CAACQ,kBAAkB,CAAC,OAAO,CAAC;QACtCC,SAAS,EAAEA,SAAS;QACpBvB,IAAI,EAAEuD,MAAM,CAACvD,IAAI,CAAC2D,KAAK,CAAC,IAAI,CAAC;QAC7B1D,IAAI,EAAEsD,MAAM,CAACtD,IAAI,CAAC0D,KAAK,CAAC,IAAI,CAAC;QAC7BzD,GAAG,EAAEqD,MAAM,CAACrD,GAAG,CAACyD,KAAK,CAAC,IAAI,CAAC;QAC3BjC,KAAK,EAAE6B,MAAM,CAAC7B,KAAK,CAACiC,KAAK,CAAC,IAAI,CAAC;QAC/BxD,MAAM,EAAEoD,MAAM,CAACpD,MAAM,CAACwD,KAAK,CAAC,IAAI;MAClC,CAAC;IACH,CAAC,CAAC,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACnC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;;IAEnC,OAAO+B,SAAS;EAClB,CAAC,CAAC,OAAOjB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD;IACAC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9C,OAAOrC,sBAAsB,CAACV,MAAM,EAAEW,KAAK,CAAC;EAC9C;AACF,CAAC;;AAED;AACA,OAAO,MAAMwD,eAAe,GAAG,MAAOnE,MAAM,IAAK;EAC/C,IAAI;IACF,MAAMkC,GAAG,GAAG,GAAGrC,QAAQ,IAAIG,MAAM,uBAAuB;IACxD,MAAMuC,QAAQ,GAAG,MAAMN,cAAc,CAACC,GAAG,CAAC;IAE1C,MAAMpB,IAAI,GAAG,MAAMyB,QAAQ,CAACW,IAAI,CAAC,CAAC;IAElC,IAAI,CAACpC,IAAI,CAAC2C,KAAK,IAAI,CAAC3C,IAAI,CAAC2C,KAAK,CAACC,MAAM,IAAI5C,IAAI,CAAC2C,KAAK,CAACC,MAAM,CAACtB,MAAM,KAAK,CAAC,EAAE;MACvE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;IAC5C;IAEA,MAAMqB,MAAM,GAAG5C,IAAI,CAAC2C,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC;IACnC,MAAMU,IAAI,GAAGV,MAAM,CAACU,IAAI;IACxB,MAAMR,MAAM,GAAGF,MAAM,CAACG,UAAU,CAACV,KAAK,CAAC,CAAC,CAAC;;IAEzC;IACA,MAAMkB,WAAW,GAAGT,MAAM,CAAC7B,KAAK,CAACK,MAAM,GAAG,CAAC;IAE3C,OAAO;MACLpC,MAAM,EAAEA,MAAM;MACdC,KAAK,EAAEmE,IAAI,CAACE,kBAAkB,IAAIV,MAAM,CAAC7B,KAAK,CAACsC,WAAW,CAAC,IAAI,CAAC;MAChEnE,MAAM,EAAEkE,IAAI,CAACE,kBAAkB,GAAGF,IAAI,CAAChE,aAAa,IAAI,CAAC;MACzDD,aAAa,EAAG,CAACiE,IAAI,CAACE,kBAAkB,GAAGF,IAAI,CAAChE,aAAa,IAAIgE,IAAI,CAAChE,aAAa,GAAG,GAAG,IAAK,CAAC;MAC/FA,aAAa,EAAEgE,IAAI,CAAChE,aAAa,IAAI,CAAC;MACtCC,IAAI,EAAEuD,MAAM,CAACvD,IAAI,CAACgE,WAAW,CAAC,IAAI,CAAC;MACnC/D,IAAI,EAAEsD,MAAM,CAACtD,IAAI,CAAC+D,WAAW,CAAC,IAAI,CAAC;MACnC9D,GAAG,EAAEqD,MAAM,CAACrD,GAAG,CAAC8D,WAAW,CAAC,IAAI,CAAC;MACjC7D,MAAM,EAAEoD,MAAM,CAACpD,MAAM,CAAC6D,WAAW,CAAC,IAAI,CAAC;MACvCE,SAAS,EAAEH,IAAI,CAACG,SAAS,IAAI,CAAC;MAC9B9D,QAAQ,EAAE2D,IAAI,CAAC3D,QAAQ,IAAI;IAC7B,CAAC;EACH,CAAC,CAAC,OAAOoC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD;IACA,IAAI;MACFC,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;MAClD,OAAO,MAAMC,0BAA0B,CAAChD,MAAM,CAAC;IACjD,CAAC,CAAC,OAAOwE,aAAa,EAAE;MACtB1B,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAE2B,aAAa,CAAC;MACzD;MACA1B,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;MACpD,MAAM0B,SAAS,GAAG1E,gBAAgB,CAACiB,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACjB,MAAM,KAAKA,MAAM,CAAC;MACzE,IAAIyE,SAAS,EAAE;QACb,OAAOA,SAAS;MAClB;MACA,MAAM5B,KAAK;IACb;EACF;AACF,CAAC;;AAED;AACA,OAAO,MAAM6B,wBAAwB,GAAG,MAAOC,OAAO,IAAK;EACzD,IAAI;IACF,MAAMC,QAAQ,GAAGD,OAAO,CAACZ,GAAG,CAAC/D,MAAM,IAAImE,eAAe,CAACnE,MAAM,CAAC,CAAC;IAC/D,MAAM6E,OAAO,GAAG,MAAMC,OAAO,CAACC,UAAU,CAACH,QAAQ,CAAC;IAElD,OAAOC,OAAO,CAACd,GAAG,CAAC,CAACL,MAAM,EAAEM,KAAK,KAAK;MACpC,IAAIN,MAAM,CAACd,MAAM,KAAK,WAAW,EAAE;QACjC,OAAOc,MAAM,CAACsB,KAAK;MACrB,CAAC,MAAM;QACLlC,OAAO,CAACD,KAAK,CAAC,mBAAmB8B,OAAO,CAACX,KAAK,CAAC,GAAG,EAAEN,MAAM,CAACuB,MAAM,CAAC;QAClE;QACA,MAAMR,SAAS,GAAG1E,gBAAgB,CAACiB,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACjB,MAAM,KAAK2E,OAAO,CAACX,KAAK,CAAC,CAAC;QACjF,IAAIS,SAAS,EAAE;UACb3B,OAAO,CAACC,GAAG,CAAC,wBAAwB4B,OAAO,CAACX,KAAK,CAAC,EAAE,CAAC;UACrD,OAAOS,SAAS;QAClB;QACA,OAAO;UACLzE,MAAM,EAAE2E,OAAO,CAACX,KAAK,CAAC;UACtBnB,KAAK,EAAE,IAAI;UACXqC,OAAO,EAAExB,MAAM,CAACuB,MAAM,CAACC;QACzB,CAAC;MACH;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOrC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;IAC7D;IACAC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IACnD,OAAOhD,gBAAgB;EACzB;AACF,CAAC;;AAED;AACA,OAAO,MAAMoF,cAAc,GAAG,CAC5B,OAAO;AAAK;AACZ,OAAO;AAAK;AACZ,MAAM;AAAM;AACZ,MAAM;AAAM;AACZ,OAAO;AAAK;AACZ,OAAO,CAAK;AAAA,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}